# Программный интерфейс

## Свойства компоненты

| Имя на русском языке | Имя на английском языке | Чтение | Установка | Описание                                                                                                                                                                                                  |
| ----------------------------- | -------------------------------- | ------ | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ВерсияКомпоненты              | ComponentVersion                 | +      |           | Содержит текущую версию компоненты                                                                                                                                                                        |
| ВерсияRdKafka                 | RdKafkaVersion                   | +      |           | Содержит версию библиотеки libRdKafka которую использует                                                                                                                                                  |
| Локаль                        | Locale                           | +      | +         | Системная локаль на машине, где запущена компонента, должна соответствовать отправляемым данным. Внимание! Если локаль en_EN, а вы пытаетесь отправить русский текст, он будет уходить в виде иероглифов. |
| ЛогФайл                       | LogFile                          | +      |           | Имя файла в который пишутся логи.                                                                                                                                                                         |
| УровеньЛогирования            | LogLevel                         | +      | +         | Текущий уровень логирования.                                                                                                                                                                              |
| ТаймаутОпераций               | OperationTimeout                 | +      | +         | Время в миллисекундах выделенное для выполнения операций, если операция выполняется дольше, библиотека RdKafka прерывает её.                                                                              |
| Отказ                         | Error                            | +      |           | Флаг отказа. Сбрасывается при начале каждой операции, чтобы после выполнения операции можно было посмотреть её ошибки. Если ошибка произошла, будет заполнено свойство ОписаниеОшибки (ErrorDescription). |
| ОписаниеОшибки                | ErrorDescription                 | +      |           | Описание ошибки, если флаг Error был взведен. 

## Методы компоненты

| Имя на русском языке     | Имя на английском языке           | Описание                                                                                                                                         |
| ------------------------ | --------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| StartLogging             | НачатьЛогирование                 | Запускает логирование операций компоненты и библиотеки libRrKafka.                                                                               |
| StopLogging              | ОстановитьЛогирование             | Останавливает логирование компоненты и библиотеки libRdKafka.                                                                                    |
| SetConfigProperty        | УстановитьПараметр                | Устанавливает свойство конфигурации.                                                                                                             |
| InitProducer             | ИнициализироватьПродюсера         | Инициализирует продюсера.                                                                                                                        |
| StartProduce             | НачатьОтправку                    | Подготавливает новый массив сообщений к отправке. На данном этапе происходит очистка коллекции статусов сообщений отправленных в предыдущий раз. |
| Produce                  | Отправить                         | Добавляет сообщение в асинхронную очередь отправки.                                                                                              |
| Flush                    | Слить                             | Отправляет сообщения, которые еще не отправлены в Кафку и ожидает отчетов об отправке, таже заполняет коллекцию статусов сообщений.              |
| StopProducer             | ОстановитьПродюсера               | Останавливает продюсера.                                                                                                                         |
| ProducerQueueLen         | ОчередьСообщенийПродюсера         | Возвращает длину очереди продюсера, в которой могут быть сообщения к отправке и технические сообщения.                                           |
| CountUndeliveredMessages | КоличествоНеДоставленныхСообщений | Возвращает количество не доставленных сообщений с момента вызова метода НачатьОтправку (StartProduce).                                           |
| MessageStatus            | СтатусСообщения                   | Возвращает статус сообщения по идентификатору.                                                                                                   |
| InitConsumer             | ИнициализироватьКонсюмера         | Инициализирует консюмера.                                                                                                                        |
| Consume                  | Прочитать                         | Читает сообщение из Кафки в компоненту.                                                                                                          |
| MessageData              | ДанныеСообщения                   | Возвращает данные сообщения.                                                                                                                     |
| MessageMetadata          | МетаданныеСообщения               | Возвращает метаданные сообщения.                                                                                                                 |
| StopConsumer             | ОстановитьКонсюмера               | Останавливает консюмера.                                                                                                                         |
| AssignPartition          | УстановитьПартицию                | Устанавливает партицию из которой будут читаться сообщения.                                                                                      |
| CommitOffset             | ЗафиксироватьОффсет               | Фиксирует оффсет у сообщений, которые были прочитаны с момента инициализации консюмера или последней фиксации.                                   |
| ChangeOffset             | ИзменитьОффсет                    | Изменяет оффсет у произвольного топика и партиции. Позволяет смещать оффсет назад и вперед.                                                      |
| CommittedOffset          | ПолучитьОффсет                    | Возвращает последний зафиксированный оффсет.                                                                                                     |
| ConsumerQueueLen         | ОчередьСообщенийКонсюмера         | Возвращает длину очереди консюмера, в которой могут быть сообщения фиксации оффсета, подписки на топик и технические сообщения.                  |
| Subscribe                | Подписаться                       | Подписывает консюмера на топик.                                                                                                                  |
| Unsubscribe              | Отписаться                        | Отписывает консюмера от всех топиков.                                                                                                            |
| Subscription             | Подписки                          | Возвращает список топиков на которые подписан консюмер, разделеннх точкой-запятой.                                                               |